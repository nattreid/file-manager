function FileManager(){}FileManager.viewer;FileManager.container;FileManager.loaded;FileManager.redrawViewer=function(){this.loaded=false;this.viewer=$(".fileManagerContainer .viewer");this.container=this.viewer.find(".viewer-container");this.viewer.css({visibility:"hidden",display:"block"});this.resize();this.viewer.css({visibility:"",display:"none"});this.viewer.fadeIn()};FileManager.resize=function(){if(this.container){if(this.container.hasClass("image")){var a=this.container.find("img");function b(){var d=30;a.removeAttr("style");var f=a.width();var c=a.height();var e=window.innerWidth-d;var g=window.innerHeight-d;if(f>e){c=c/(f/e);f=e}if(c>g){f=f/(c/g);c=g}a.width(f);a.height(c);FileManager.container.centerFixed()}if(this.loaded){b()}else{a.load(function(){FileManager.loaded=true;b()})}}else{this.container.centerFixed()}}};$(document).ready(function(){var c=null;var d=null;var a={left:0,top:0};function b(){if(c!==null){c.abort()}if(d!==null){clearTimeout(d)}}$(document).on("mousemove",".no-touchevents .fileManagerContainer .fileManagerContent .itemContainer a.item",function(e){a=$(this).closest(".itemContainer").find(".properties").onPosition(e)});$(document).ajaxStart(function(){b()});$(document).on("mouseenter",".no-touchevents .fileManagerContainer .fileManagerContent .itemContainer a.item",function(){var e=$(this).closest(".itemContainer");d=setTimeout(function(){if(e.data("request")===0){e.data("request",1);c=$.nette.ajax(e.data("file-size-handler")).success(function(){e.find(".properties").show().css({left:a.left,top:a.top});e.data("request",2)}).complete(function(){if(e.data("request")!==2){e.data("request",0)}c=null});d=null}},2000);e.find(".properties").show()});$(document).on("mouseleave",".no-touchevents .fileManagerContainer .fileManagerContent .itemContainer a.item",function(){b();$(this).closest(".itemContainer").find(".properties").hide()});$(document).on("click",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(e){b();return false});$(document).on("contextmenu",".no-touchevents .fileManagerContainer .fileManagerContent .itemContainer",function(e){b();$(this).find(".properties").hide();$(this).find(".fileContextMenu").hide();var f=$(this).find(".fileContextMenu");f.onPosition(e,-30,-30);f.show();return false});$(document).on("contextmenu",".touchevents .fileManagerContainer .fileManagerContent .itemContainer",function(e){$(this).closest(".fileManagerContent").find(".fileContextMenu").hide();var f=$(this).find(".fileContextMenu");f.onPosition(e,-30,-30);f.show();f.clickOut(function(g){g.hide();return true});return false});$(document).on("mouseleave",".no-touchevents .fileManagerContainer .fileManagerContent .itemContainer .fileContextMenu",function(){$(this).hide()});$(document).on("click",".fileManagerContainer .viewer .background, .fileManagerContainer .viewer .viewerClose",function(){$(this).closest(".viewer").fadeOut()});$(document).on("change",'.fileManagerContainer .viewer .data input[type="checkbox"]',function(e){var f=$(this).closest(".data").find("pre, textarea");if($(this).is(":checked")){f.removeClass("notAlign")}else{f.addClass("notAlign")}});$(window).on("resize.fileManager",function(){FileManager.resize()})});