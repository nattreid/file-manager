!function(e,n){if(void 0===n.jQuery)return void console.error('Plugin "jQuery" required by "fileManager.js" is missing!');n.fileManager={},n.fileManager.viewer=null,n.fileManager.container=null,n.fileManager.loaded=null,n.fileManager.redrawViewer=function(){this.loaded=!1,this.viewer=e(".fileManagerContainer .viewer"),this.container=this.viewer.find(".viewer-container"),this.viewer.css({visibility:"hidden",display:"block"}),this.resize(),this.viewer.css({visibility:"",display:"none"}),this.viewer.fadeIn()},n.fileManager.resize=function(){function e(){t.removeAttr("style");var e=t.width(),i=t.height(),o=n.innerWidth-30,a=n.innerHeight-30;e>o&&(i/=e/o,e=o),i>a&&(e/=i/a,i=a),t.width(e),t.height(i),n.fileManager.container.centerFixed()}if(this.container)if(this.container.hasClass("image")){var t=this.container.find("img");this.loaded?e():t.load(function(){n.fileManager.loaded=!0,e()})}else this.container.centerFixed()},e(document).ready(function(){function t(){null!==i&&i.abort(),null!==o&&clearTimeout(o)}var i=null,o=null,a={left:0,top:0};e(document).on("mousemove",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(t){n.Modernizr.touchevents||(a=e(this).closest(".itemContainer").find(".properties").onPosition(t))}),e(document).ajaxStart(function(){t()}),e(document).on("mouseenter",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(){if(!n.Modernizr.touchevents){var t=e(this).closest(".itemContainer");o=setTimeout(function(){0===t.data("request")&&(t.data("request",1),i=e.nette.ajax(t.data("file-size-handler")).success(function(){t.find(".properties").show().css({left:a.left,top:a.top}),t.data("request",2)}).complete(function(){2!==t.data("request")&&t.data("request",0),i=null}),o=null)},2e3),t.find(".properties").show()}}),e(document).on("mouseleave",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(){n.Modernizr.touchevents||(t(),e(this).closest(".itemContainer").find(".properties").hide())}),e(document).on("click",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(){return t(),!1}),e(document).on("contextmenu",".fileManagerContainer .fileManagerContent .itemContainer",function(i){var o=e(this).find(".fileContextMenu");return o.onPosition(i,-30,-30),n.Modernizr.touchevents?(e(this).closest(".fileManagerContent").find(".fileContextMenu").hide(),o.clickOut(function(e){return e.hide(),!0})):(t(),e(this).find(".properties").hide(),e(this).find(".fileContextMenu").hide()),o.show(),!1}),e(document).on("mouseleave",".fileManagerContainer .fileManagerContent .itemContainer .fileContextMenu",function(){n.Modernizr.touchevents||e(this).hide()}),e(document).on("click",".fileManagerContainer .viewer .background, .fileManagerContainer .viewer .viewerClose",function(){e(this).closest(".viewer").fadeOut()}),e(document).on("change",'.fileManagerContainer .viewer .data input[type="checkbox"]',function(){var n=e(this).closest(".data").find("pre, textarea");e(this).is(":checked")?n.removeClass("notAlign"):n.addClass("notAlign")}),e(n).on("resize.fileManager",function(){n.fileManager.resize()})})}(jQuery,window),function(e,n,t){function i(e,n){return typeof e===n}function o(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):h?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function a(){var e=n.body;return e||(e=o(h?"svg":"body"),e.fake=!0),e}function r(e,t,i,r){var s,l,f,d,u="modernizr",h=o("div"),m=a();if(parseInt(i,10))for(;i--;)f=o("div"),f.id=r?r[i]:u+(i+1),h.appendChild(f);return s=o("style"),s.type="text/css",s.id="s"+u,(m.fake?m:h).appendChild(s),m.appendChild(h),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),h.id=u,m.fake&&(m.style.background="",m.style.overflow="hidden",d=c.style.overflow,c.style.overflow="hidden",c.appendChild(m)),l=t(h,e),m.fake?(m.parentNode.removeChild(m),c.style.overflow=d,c.offsetHeight):h.parentNode.removeChild(h),!!l}var s=[],l={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){s.push({name:e,fn:n,options:t})},addAsyncTest:function(e){s.push({name:null,fn:e})}},f=function(){};f.prototype=l,f=new f;var d=[],u=l._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];l._prefixes=u;var c=n.documentElement,h="svg"===c.nodeName.toLowerCase(),m=l.testStyles=r;f.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var i=["@media (",u.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");m(i,function(e){t=9===e.offsetTop})}return t}),function(){var e,n,t,o,a,r,l;for(var u in s)if(s.hasOwnProperty(u)){if(e=[],n=s[u],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=i(n.fn,"function")?n.fn():n.fn,a=0;a<e.length;a++)r=e[a],l=r.split("."),1===l.length?f[l[0]]=o:(!f[l[0]]||f[l[0]]instanceof Boolean||(f[l[0]]=new Boolean(f[l[0]])),f[l[0]][l[1]]=o),d.push((o?"":"no-")+l.join("-"))}}(),delete l.addTest,delete l.addAsyncTest;for(var p=0;p<f._q.length;p++)f._q[p]();e.Modernizr=f}(window,document);