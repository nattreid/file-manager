!function(e,n){return void 0===n.jQuery?void console.error('Plugin "jQuery" required by "fileManager.js" is missing!'):(n.FileManager={},n.FileManager.viewer,n.FileManager.container,n.FileManager.loaded,n.FileManager.redrawViewer=function(){this.loaded=!1,this.viewer=e(".fileManagerContainer .viewer"),this.container=this.viewer.find(".viewer-container"),this.viewer.css({visibility:"hidden",display:"block"}),this.resize(),this.viewer.css({visibility:"",display:"none"}),this.viewer.fadeIn()},n.FileManager.resize=function(){function e(){var e=30;t.removeAttr("style");var i=t.width(),o=t.height(),a=n.innerWidth-e,r=n.innerHeight-e;i>a&&(o/=i/a,i=a),o>r&&(i/=o/r,o=r),t.width(i),t.height(o),n.FileManager.container.centerFixed()}if(this.container)if(this.container.hasClass("image")){var t=this.container.find("img");this.loaded?e():t.load(function(){n.FileManager.loaded=!0,e()})}else this.container.centerFixed()},void e(document).ready(function(){function t(){null!==i&&i.abort(),null!==o&&clearTimeout(o)}var i=null,o=null,a={left:0,top:0};e(document).on("mousemove",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(t){n.Modernizr.touchevents||(a=e(this).closest(".itemContainer").find(".properties").onPosition(t))}),e(document).ajaxStart(function(){t()}),e(document).on("mouseenter",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(){if(!n.Modernizr.touchevents){var t=e(this).closest(".itemContainer");o=setTimeout(function(){0===t.data("request")&&(t.data("request",1),i=e.nette.ajax(t.data("file-size-handler")).success(function(){t.find(".properties").show().css({left:a.left,top:a.top}),t.data("request",2)}).complete(function(){2!==t.data("request")&&t.data("request",0),i=null}),o=null)},2e3),t.find(".properties").show()}}),e(document).on("mouseleave",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(){n.Modernizr.touchevents||(t(),e(this).closest(".itemContainer").find(".properties").hide())}),e(document).on("click",".fileManagerContainer .fileManagerContent .itemContainer a.item",function(e){return t(),!1}),e(document).on("contextmenu",".fileManagerContainer .fileManagerContent .itemContainer",function(i){var o=e(this).find(".fileContextMenu");return o.onPosition(i,-30,-30),n.Modernizr.touchevents?(e(this).closest(".fileManagerContent").find(".fileContextMenu").hide(),o.clickOut(function(e){return e.hide(),!0})):(t(),e(this).find(".properties").hide(),e(this).find(".fileContextMenu").hide()),o.show(),!1}),e(document).on("mouseleave",".fileManagerContainer .fileManagerContent .itemContainer .fileContextMenu",function(){n.Modernizr.touchevents||e(this).hide()}),e(document).on("click",".fileManagerContainer .viewer .background, .fileManagerContainer .viewer .viewerClose",function(){e(this).closest(".viewer").fadeOut()}),e(document).on("change",'.fileManagerContainer .viewer .data input[type="checkbox"]',function(n){var t=e(this).closest(".data").find("pre, textarea");e(this).is(":checked")?t.removeClass("notAlign"):t.addClass("notAlign")}),e(n).on("resize.fileManager",function(){n.FileManager.resize()})}))}(jQuery,window),function(e,n,t){function i(e,n){return typeof e===n}function o(){var e,n,t,o,a,r,s;for(var d in l)if(l.hasOwnProperty(d)){if(e=[],n=l[d],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=i(n.fn,"function")?n.fn():n.fn,a=0;a<e.length;a++)r=e[a],s=r.split("."),1===s.length?f[s[0]]=o:(!f[s[0]]||f[s[0]]instanceof Boolean||(f[s[0]]=new Boolean(f[s[0]])),f[s[0]][s[1]]=o),c.push((o?"":"no-")+s.join("-"))}}function a(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):m?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function r(){var e=n.body;return e||(e=a(m?"svg":"body"),e.fake=!0),e}function s(e,t,i,o){var s,l,d,f,c="modernizr",u=a("div"),m=r();if(parseInt(i,10))for(;i--;)d=a("div"),d.id=o?o[i]:c+(i+1),u.appendChild(d);return s=a("style"),s.type="text/css",s.id="s"+c,(m.fake?m:u).appendChild(s),m.appendChild(u),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),u.id=c,m.fake&&(m.style.background="",m.style.overflow="hidden",f=h.style.overflow,h.style.overflow="hidden",h.appendChild(m)),l=t(u,e),m.fake?(m.parentNode.removeChild(m),h.style.overflow=f,h.offsetHeight):u.parentNode.removeChild(u),!!l}var l=[],d={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){l.push({name:e,fn:n,options:t})},addAsyncTest:function(e){l.push({name:null,fn:e})}},f=function(){};f.prototype=d,f=new f;var c=[],u=d._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];d._prefixes=u;var h=n.documentElement,m="svg"===h.nodeName.toLowerCase(),p=d.testStyles=s;f.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var i=["@media (",u.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");p(i,function(e){t=9===e.offsetTop})}return t}),o(),delete d.addTest,delete d.addAsyncTest;for(var v=0;v<f._q.length;v++)f._q[v]();e.Modernizr=f}(window,document);